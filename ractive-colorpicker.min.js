!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.RactiveColorpicker=t():e.RactiveColorpicker=t()}(this,function(){return function(e){function t(i){if(r[i])return r[i].exports;var n=r[i]={exports:{},id:i,loaded:!1};return e[i].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function i(e,t,r){return Math.max(Math.min(e,r),t)}function n(e){return Math.round(e)}r(1);var a=(window,document,r(5));e.exports=Ractive.extend({template:r(6),isolated:!0,data:function(){return{showFormats:!0,showSLPicker:!0,showOpacitySlider:!0,showHueSlider:!0,showInputs:!0,showValueInput:!0,showHslInputs:!0,showRgbInputs:!0,format:"Hex",base:"#00e3ff",r:50,g:165,b:191,h:.53,s:.59,l:.47,a:1,value:"#32a5bf"}},computed:{hue:{get:function(){return n(360*this.get("h"))},set:function(e){this.set("h",e/360)}},saturation:{get:function(){return n(100*this.get("s"))},set:function(e){this.set("s",e/100)}},lightness:{get:function(){return n(100*this.get("l"))},set:function(e){this.set("l",e/100)}},opaque:function(){return a(this.get("value")).toHexString()},_value:{get:function(){var e,t=this.get("format"),r=this.get("r"),i=this.get("g"),n=this.get("b"),o=this.get("h"),s=this.get("s"),l=this.get("l"),c=this.get("a");return e="Hsl"==t?a.fromRatio({h:o,s:s,v:l,a:c}):a.fromRatio({r:r,g:i,b:n,a:c}),1>c&&"Hex"==t&&(t+="8"),e["to"+t+"String"]()},set:function(e){var t=this,r=this.get("format"),i=a(e),n=i.toHsv(),o={s:n.s,l:n.v,a:n.a,base:a.fromRatio({h:n.h,s:1,v:1}).toHexString()};0!==n.s&&0!==n.v&&(o.h=n.h/360),o.a<1&&"Hex"==r&&(r+="8"),o.value=i["to"+r+"String"](),t.fire("change"),t.set(o)}}},oninit:function(){var e=this;e.observe("value",function(t){e.set("_value",t)}),e.observe("h s l r g b a",function(){e.set("value",e.get("_value"))}),e.observe("h s l",function(){var t=this.get("h"),r=this.get("s"),i=this.get("l"),n=a.fromRatio({h:t,s:r,v:i}),o=n.toRgb();e.set({r:o.r,g:o.g,b:o.b})},{init:!1}),e.observe("a",function(e){var t=this.get("format");1>e&&"Hex"==t&&this.set("format","Rgb")}),e.on("hueMousedown slMousedown opacityMousedown",function(t){var r=t.original;e["_"+t.name]=!0;var i=e.find(".hue");i&&(e._hueRect=i.getBoundingClientRect());var n=e.find(".slPicker");n&&(e._slRect=n.getBoundingClientRect());var a=e.find(".opacity");a&&(e._opacityRect=a.getBoundingClientRect()),e._lastMouseX=r.clientX,e._lastMouseY=r.clientY,document.addEventListener("mousemove",e.boundMouseMoveHandler),document.addEventListener("mouseup",e.boundMouseUpHandler),requestAnimationFrame(e.boundUpdate)}),e.on("rgbChange",function(t){var r=this.get("r"),i=this.get("g"),n=this.get("b"),o=a({r:r,g:i,b:n}),s=o.toHsv(),l={s:s.s,l:s.v};0!=o.s&0!=o.h&&!this._slMousedown&&(l.h=s.h/360),e.set(l)}),e.boundMouseMoveHandler=e.mouseMoveHandler.bind(e),e.boundMouseUpHandler=e.mouseUpHandler.bind(e),e.boundUpdate=e.update.bind(e)},mouseMoveHandler:function(e){var t=this;t._lastMouseX=e.clientX,t._lastMouseY=e.clientY},mouseUpHandler:function(e){var t=this;t._hueMousedown=t._slMousedown=t._opacityMousedown=!1,document.removeEventListener("mousemove",t.boundMouseMoveHandler),document.removeEventListener("mouseup",t.boundMouseUpHandler)},update:function(){var e=this;if(e._hueMousedown){var t=i((e._lastMouseY-e._hueRect.top)/e._hueRect.height,0,1),r=a.fromRatio({h:t,s:1,v:1}).toHexString();e.set({h:t,base:r})}if(e._slMousedown){var n=i((e._lastMouseX-e._slRect.left)/e._slRect.width,0,1),o=i(1-(e._lastMouseY-e._slRect.top)/e._slRect.height,0,1);e.set({s:n,l:o})}if(e._opacityMousedown){var s=i((e._lastMouseX-e._opacityRect.left)/e._opacityRect.width,0,1);e.set({a:s})}(e._hueMousedown||e._slMousedown||e._opacityMousedown)&&requestAnimationFrame(e.boundUpdate)}})},function(e,t,r){var i=r(2);"string"==typeof i&&(i=[[e.id,i,""]]);r(4)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,r){t=e.exports=r(3)(),t.push([e.id,".ractive-colorpicker{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ractive-colorpicker *{box-sizing:border-box}.ractive-colorpicker .inputs,.ractive-colorpicker .pickers{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-lines:multiple;-moz-box-lines:multiple;-o-box-lines:multiple;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-ms-flex-line-pack:justify;-webkit-align-content:space-between;align-content:space-between;-webkit-box-pack:justify;-o-box-pack:justify;-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.ractive-colorpicker .slPicker{width:12rem;height:12rem;position:relative;border:1px solid #333}.ractive-colorpicker .slPicker div{width:100%;height:100%;position:absolute}.ractive-colorpicker .slPicker .saturation{background:-webkit-linear-gradient(left,#fff,hsla(0,0%,100%,0));background:linear-gradient(to right,#fff,hsla(0,0%,100%,0))}.ractive-colorpicker .slPicker .lightness{background:-webkit-linear-gradient(bottom,#000,transparent);background:linear-gradient(to top,#000,transparent)}.ractive-colorpicker .checkered{background:#fff url(\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADJJREFUeNpiPHPmzH8GPMDY2JgRnzwTA4Vg1IDBYADj//94kwHD2bNn/48G4rA3ACDAANjWCn8l5H3aAAAAAElFTkSuQmCC\")}.ractive-colorpicker .color{height:1.5rem;border:1px solid #000;position:relative}.ractive-colorpicker .color .checkered{height:100%}.ractive-colorpicker .color :nth-child(2){z-index:3;position:absolute;top:0;left:0;right:0;bottom:0}.ractive-colorpicker .hue{width:1rem;margin-left:1rem;position:relative;background:-webkit-linear-gradient(top,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%);background:linear-gradient(to bottom,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%);border:1px solid #333}.ractive-colorpicker .colorHexInput{width:6em}.ractive-colorpicker .inputs{margin-left:1rem}.ractive-colorpicker .inputs label{width:1em;display:inline-block}.ractive-colorpicker .inputs div input{width:4em}.ractive-colorpicker .inputs input{height:2em;max-width:65px}.ractive-colorpicker .opacity{width:100%;max-width:12rem;height:1rem;position:relative;border:1px solid #333;margin-top:.5em}.ractive-colorpicker .opacity div{width:100%;height:100%}.ractive-colorpicker .formats{margin-top:.5em}.ractive-colorpicker .indicator{display:block;position:absolute;z-index:30}.ractive-colorpicker .indicator.x{width:4px;height:100%;border:1px solid #fff;top:0}.ractive-colorpicker .indicator.x:after,.ractive-colorpicker .indicator.x:before{content:'';position:absolute;border:2px solid transparent}.ractive-colorpicker .indicator.x:before{top:-5px;border-top-color:#333;bottom:-5px;border-bottom-color:#333}.ractive-colorpicker .indicator.y{height:4px;width:100%;border:1px solid #fff;margin-top:-4px}.ractive-colorpicker .indicator.y:after,.ractive-colorpicker .indicator.y:before{content:'';position:absolute;border:2px solid transparent}.ractive-colorpicker .indicator.y:before{left:-4px;border-left-color:#333;right:-4px;border-right-color:#333}.ractive-colorpicker .indicator.xy{background:#000;border:1px solid #fff;height:4px;width:4px;border-radius:100%;left:90%;top:20%;margin-left:-2px;margin-top:-2px}.dragging .ractive-colorpicker .indicator{border:1px dashed #fff}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t];r[2]?e.push("@media "+r[2]+"{"+r[1]+"}"):e.push(r[1])}return e.join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},n=0;n<this.length;n++){var a=this[n][0];"number"==typeof a&&(i[a]=!0)}for(n=0;n<t.length;n++){var o=t[n];"number"==typeof o[0]&&i[o[0]]||(r&&!o[2]?o[2]=r:r&&(o[2]="("+o[2]+") and ("+r+")"),e.push(o))}},e}},function(e,t,r){function i(e,t){for(var r=0;r<e.length;r++){var i=e[r],n=f[i.id];if(n){n.refs++;for(var a=0;a<n.parts.length;a++)n.parts[a](i.parts[a]);for(;a<i.parts.length;a++)n.parts.push(s(i.parts[a],t))}else{for(var o=[],a=0;a<i.parts.length;a++)o.push(s(i.parts[a],t));f[i.id]={id:i.id,refs:1,parts:o}}}}function n(e){for(var t=[],r={},i=0;i<e.length;i++){var n=e[i],a=n[0],o=n[1],s=n[2],l=n[3],c={css:o,media:s,sourceMap:l};r[a]?r[a].parts.push(c):t.push(r[a]={id:a,parts:[c]})}return t}function a(){var e=document.createElement("style"),t=p();return e.type="text/css",t.appendChild(e),e}function o(){var e=document.createElement("link"),t=p();return e.rel="stylesheet",t.appendChild(e),e}function s(e,t){var r,i,n;if(t.singleton){var s=b++;r=g||(g=a()),i=l.bind(null,r,s,!1),n=l.bind(null,r,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=o(),i=u.bind(null,r),n=function(){r.parentNode.removeChild(r),r.href&&URL.revokeObjectURL(r.href)}):(r=a(),i=c.bind(null,r),n=function(){r.parentNode.removeChild(r)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else n()}}function l(e,t,r,i){var n=r?"":i.css;if(e.styleSheet)e.styleSheet.cssText=v(t,n);else{var a=document.createTextNode(n),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function c(e,t){var r=t.css,i=t.media;t.sourceMap;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function u(e,t){var r=t.css,i=(t.media,t.sourceMap);i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var n=new Blob([r],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(n),a&&URL.revokeObjectURL(a)}var f={},h=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},d=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),p=h(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,b=0;e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=d());var r=n(e);return i(r,t),function(e){for(var a=[],o=0;o<r.length;o++){var s=r[o],l=f[s.id];l.refs--,a.push(l)}if(e){var c=n(e);i(c,t)}for(var o=0;o<a.length;o++){var l=a[o];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete f[l.id]}}}};var v=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()},function(e,t,r){var i;!function(){function n(e,t){if(e=e?e:"",t=t||{},e instanceof n)return e;if(!(this instanceof n))return new n(e,t);var r=a(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Y(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Y(this._r)),this._g<1&&(this._g=Y(this._g)),this._b<1&&(this._b=Y(this._b)),this._ok=r.ok,this._tc_id=z++}function a(e){var t={r:0,g:0,b:0},r=1,i=!1,n=!1;return"string"==typeof e&&(e=I(e)),"object"==typeof e&&(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b")?(t=o(e.r,e.g,e.b),i=!0,n="%"===String(e.r).substr(-1)?"prgb":"rgb"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("v")?(e.s=j(e.s),e.v=j(e.v),t=u(e.h,e.s,e.v),i=!0,n="hsv"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")&&(e.s=j(e.s),e.l=j(e.l),t=l(e.h,e.s,e.l),i=!0,n="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=M(r),{ok:i,format:e.format||n,r:D(255,G(t.r,0)),g:D(255,G(t.g,0)),b:D(255,G(t.b,0)),a:r}}function o(e,t,r){return{r:255*S(e,255),g:255*S(t,255),b:255*S(r,255)}}function s(e,t,r){e=S(e,255),t=S(t,255),r=S(r,255);var i,n,a=G(e,t,r),o=D(e,t,r),s=(a+o)/2;if(a==o)i=n=0;else{var l=a-o;switch(n=s>.5?l/(2-a-o):l/(a+o),a){case e:i=(t-r)/l+(r>t?6:0);break;case t:i=(r-e)/l+2;break;case r:i=(e-t)/l+4}i/=6}return{h:i,s:n,l:s}}function l(e,t,r){function i(e,t,r){return 0>r&&(r+=1),r>1&&(r-=1),1/6>r?e+6*(t-e)*r:.5>r?t:2/3>r?e+(t-e)*(2/3-r)*6:e}var n,a,o;if(e=S(e,360),t=S(t,100),r=S(r,100),0===t)n=a=o=r;else{var s=.5>r?r*(1+t):r+t-r*t,l=2*r-s;n=i(l,s,e+1/3),a=i(l,s,e),o=i(l,s,e-1/3)}return{r:255*n,g:255*a,b:255*o}}function c(e,t,r){e=S(e,255),t=S(t,255),r=S(r,255);var i,n,a=G(e,t,r),o=D(e,t,r),s=a,l=a-o;if(n=0===a?0:l/a,a==o)i=0;else{switch(a){case e:i=(t-r)/l+(r>t?6:0);break;case t:i=(r-e)/l+2;break;case r:i=(e-t)/l+4}i/=6}return{h:i,s:n,v:s}}function u(e,t,r){e=6*S(e,360),t=S(t,100),r=S(r,100);var i=T.floor(e),n=e-i,a=r*(1-t),o=r*(1-n*t),s=r*(1-(1-n)*t),l=i%6,c=[r,o,a,a,s,r][l],u=[s,r,r,o,a,a][l],f=[a,a,s,r,r,o][l];return{r:255*c,g:255*u,b:255*f}}function f(e,t,r,i){var n=[U(Y(e).toString(16)),U(Y(t).toString(16)),U(Y(r).toString(16))];return i&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function h(e,t,r,i){var n=[U(O(i)),U(Y(e).toString(16)),U(Y(t).toString(16)),U(Y(r).toString(16))];return n.join("")}function d(e,t){t=0===t?0:t||10;var r=n(e).toHsl();return r.s-=t/100,r.s=C(r.s),n(r)}function p(e,t){t=0===t?0:t||10;var r=n(e).toHsl();return r.s+=t/100,r.s=C(r.s),n(r)}function g(e){return n(e).desaturate(100)}function b(e,t){t=0===t?0:t||10;var r=n(e).toHsl();return r.l+=t/100,r.l=C(r.l),n(r)}function v(e,t){t=0===t?0:t||10;var r=n(e).toRgb();return r.r=G(0,D(255,r.r-Y(255*-(t/100)))),r.g=G(0,D(255,r.g-Y(255*-(t/100)))),r.b=G(0,D(255,r.b-Y(255*-(t/100)))),n(r)}function m(e,t){t=0===t?0:t||10;var r=n(e).toHsl();return r.l-=t/100,r.l=C(r.l),n(r)}function y(e,t){var r=n(e).toHsl(),i=(Y(r.h)+t)%360;return r.h=0>i?360+i:i,n(r)}function x(e){var t=n(e).toHsl();return t.h=(t.h+180)%360,n(t)}function _(e){var t=n(e).toHsl(),r=t.h;return[n(e),n({h:(r+120)%360,s:t.s,l:t.l}),n({h:(r+240)%360,s:t.s,l:t.l})]}function k(e){var t=n(e).toHsl(),r=t.h;return[n(e),n({h:(r+90)%360,s:t.s,l:t.l}),n({h:(r+180)%360,s:t.s,l:t.l}),n({h:(r+270)%360,s:t.s,l:t.l})]}function w(e){var t=n(e).toHsl(),r=t.h;return[n(e),n({h:(r+72)%360,s:t.s,l:t.l}),n({h:(r+216)%360,s:t.s,l:t.l})]}function A(e,t,r){t=t||6,r=r||30;var i=n(e).toHsl(),a=360/r,o=[n(e)];for(i.h=(i.h-(a*t>>1)+720)%360;--t;)i.h=(i.h+a)%360,o.push(n(i));return o}function R(e,t){t=t||6;for(var r=n(e).toHsv(),i=r.h,a=r.s,o=r.v,s=[],l=1/t;t--;)s.push(n({h:i,s:a,v:o})),o=(o+l)%1;return s}function H(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function M(e){return e=parseFloat(e),(isNaN(e)||0>e||e>1)&&(e=1),e}function S(e,t){F(e)&&(e="100%");var r=P(e);return e=D(t,G(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),T.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function C(e){return D(1,G(0,e))}function L(e){return parseInt(e,16)}function F(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function P(e){return"string"==typeof e&&-1!=e.indexOf("%")}function U(e){return 1==e.length?"0"+e:""+e}function j(e){return 1>=e&&(e=100*e+"%"),e}function O(e){return Math.round(255*parseFloat(e)).toString(16)}function B(e){return L(e)/255}function I(e){e=e.replace(E,"").replace(q,"").toLowerCase();var t=!1;if(J[e])e=J[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=Z.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=Z.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Z.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=Z.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Z.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=Z.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Z.hex8.exec(e))?{a:B(r[1]),r:L(r[2]),g:L(r[3]),b:L(r[4]),format:t?"name":"hex8"}:(r=Z.hex6.exec(e))?{r:L(r[1]),g:L(r[2]),b:L(r[3]),format:t?"name":"hex"}:(r=Z.hex3.exec(e))?{r:L(r[1]+""+r[1]),g:L(r[2]+""+r[2]),b:L(r[3]+""+r[3]),format:t?"name":"hex"}:!1}function N(e){var t,r;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==r&&"large"!==r&&(r="small"),{level:t,size:r}}var E=/^\s+/,q=/\s+$/,z=0,T=Math,Y=T.round,D=T.min,G=T.max,X=T.random;n.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,r,i,n,a,o=this.toRgb();return e=o.r/255,t=o.g/255,r=o.b/255,i=.03928>=e?e/12.92:Math.pow((e+.055)/1.055,2.4),n=.03928>=t?t/12.92:Math.pow((t+.055)/1.055,2.4),a=.03928>=r?r/12.92:Math.pow((r+.055)/1.055,2.4),.2126*i+.7152*n+.0722*a},setAlpha:function(e){return this._a=M(e),this._roundA=Y(100*this._a)/100,this},toHsv:function(){var e=c(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=c(this._r,this._g,this._b),t=Y(360*e.h),r=Y(100*e.s),i=Y(100*e.v);return 1==this._a?"hsv("+t+", "+r+"%, "+i+"%)":"hsva("+t+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=s(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=s(this._r,this._g,this._b),t=Y(360*e.h),r=Y(100*e.s),i=Y(100*e.l);return 1==this._a?"hsl("+t+", "+r+"%, "+i+"%)":"hsla("+t+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return f(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return h(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:Y(this._r),g:Y(this._g),b:Y(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Y(this._r)+", "+Y(this._g)+", "+Y(this._b)+")":"rgba("+Y(this._r)+", "+Y(this._g)+", "+Y(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Y(100*S(this._r,255))+"%",g:Y(100*S(this._g,255))+"%",b:Y(100*S(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Y(100*S(this._r,255))+"%, "+Y(100*S(this._g,255))+"%, "+Y(100*S(this._b,255))+"%)":"rgba("+Y(100*S(this._r,255))+"%, "+Y(100*S(this._g,255))+"%, "+Y(100*S(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":this._a<1?!1:V[f(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var t="#"+h(this._r,this._g,this._b,this._a),r=t,i=this._gradientType?"GradientType = 1, ":"";if(e){var a=n(e);r=a.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,n=!t&&i&&("hex"===e||"hex6"===e||"hex3"===e||"name"===e);return n?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),("hex"===e||"hex6"===e)&&(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return n(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(b,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(m,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(y,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(A,arguments)},complement:function(){return this._applyCombination(x,arguments)},monochromatic:function(){return this._applyCombination(R,arguments)},splitcomplement:function(){return this._applyCombination(w,arguments)},triad:function(){return this._applyCombination(_,arguments)},tetrad:function(){return this._applyCombination(k,arguments)}},n.fromRatio=function(e,t){if("object"==typeof e){var r={};for(var i in e)e.hasOwnProperty(i)&&("a"===i?r[i]=e[i]:r[i]=j(e[i]));e=r}return n(e,t)},n.equals=function(e,t){return e&&t?n(e).toRgbString()==n(t).toRgbString():!1},n.random=function(){return n.fromRatio({r:X(),g:X(),b:X()})},n.mix=function(e,t,r){r=0===r?0:r||50;var i,a=n(e).toRgb(),o=n(t).toRgb(),s=r/100,l=2*s-1,c=o.a-a.a;i=l*c==-1?l:(l+c)/(1+l*c),i=(i+1)/2;var u=1-i,f={r:o.r*i+a.r*u,g:o.g*i+a.g*u,b:o.b*i+a.b*u,a:o.a*s+a.a*(1-s)};return n(f)},n.readability=function(e,t){var r=n(e),i=n(t);return(Math.max(r.getLuminance(),i.getLuminance())+.05)/(Math.min(r.getLuminance(),i.getLuminance())+.05)},n.isReadable=function(e,t,r){var i,a,o=n.readability(e,t);switch(a=!1,i=N(r),i.level+i.size){case"AAsmall":case"AAAlarge":a=o>=4.5;break;case"AAlarge":a=o>=3;break;case"AAAsmall":a=o>=7}return a},n.mostReadable=function(e,t,r){var i,a,o,s,l=null,c=0;r=r||{},a=r.includeFallbackColors,o=r.level,s=r.size;for(var u=0;u<t.length;u++)i=n.readability(e,t[u]),i>c&&(c=i,l=n(t[u]));return n.isReadable(e,l,{level:o,size:s})||!a?l:(r.includeFallbackColors=!1,n.mostReadable(e,["#fff","#000"],r))};var J=n.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},V=n.hexNames=H(J),Z=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",r="(?:"+t+")|(?:"+e+")",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof e&&e.exports?e.exports=n:(i=function(){return n}.call(t,r,t,e),!(void 0!==i&&(e.exports=i)))}()},function(e,t){e.exports={v:3,t:[{t:7,e:"div",f:["value: ",{t:2,r:"value"}]}," ",{t:7,e:"div",f:["_value: ",{t:2,r:"_value"}]}," ",{t:7,e:"div",a:{"class":["ractive-colorpicker ",{t:2,r:"class"}],style:[{t:2,r:"style"}]},f:[{t:7,e:"div",a:{"class":"pickers"},f:[{t:4,f:[{t:7,e:"div",a:{"class":"slPicker"},v:{mousedown:"slMousedown"},f:[{t:7,e:"div",a:{"class":"base",style:["background: ",{t:2,r:"base"}]}}," ",{t:7,e:"div",a:{"class":"saturation"}}," ",{t:7,e:"div",a:{"class":"lightness"}}," ",{t:7,e:"i",a:{"class":"xy indicator",style:["left: ",{t:2,r:"saturation"},"%; top: ",{t:2,x:{r:["lightness"],s:"100-_0"}},"%"]}}]}],n:50,r:"showSLPicker"}," ",{t:4,f:[{t:7,e:"div",a:{"class":"opacity checkered"},v:{mousedown:"opacityMousedown"},f:[{t:7,e:"div",a:{style:["background: linear-gradient(to right, transparent, ",{t:2,r:"opaque"},")"]}}," ",{t:7,e:"i",a:{"class":"x indicator",style:["left: ",{t:2,x:{r:["a"],s:"_0*100"}},"%"]}}]}],n:50,r:"showOpacitySlider"}," ",{t:4,f:[{t:7,e:"div",a:{"class":"formats"},f:[{t:7,e:"label",m:[{t:4,f:["class='disabled'"],n:50,x:{r:["a"],s:"_0<1"}}],f:[{t:7,e:"input",a:{type:"radio",name:[{t:2,r:"format"}],value:"Hex"},m:[{t:4,f:["disabled"],n:50,x:{r:["a"],s:"_0<1"}}]}," Hex"]}," ",{t:7,e:"label",f:[{t:7,e:"input",a:{type:"radio",name:[{t:2,r:"format"}],value:"Rgb"}}," RGB"]}," ",{t:7,e:"label",f:[{t:7,e:"input",a:{type:"radio",name:[{t:2,r:"format"}],value:"Hsl"}}," HSL"]}]}],n:50,r:"showFormats"}]}," ",{t:4,f:[{t:7,e:"div",a:{"class":"hue"},v:{mousedown:"hueMousedown"},f:[{t:7,e:"i",a:{"class":"y indicator",style:["top: ",{t:2,x:{r:["h"],s:"_0*100"}},"%"]}}]}],n:50,r:"showHueSlider"}," ",{t:4,f:[{t:7,e:"div",a:{"class":"inputs"},f:[{t:7,e:"div",a:{"class":"color"},f:[{t:7,e:"div",a:{"class":"checkered"}}," ",{t:7,e:"div",a:{style:["background: ",{t:2,r:"_value"}]}}]}," ",{t:4,f:[{t:7,e:"input",a:{"class":"value",type:"text",value:[{t:2,r:"_value"}]}}],n:50,r:"showValueInput"}," ",{t:4,f:[{t:7,e:"div",f:[{t:7,e:"label",f:["H:"]},{t:7,e:"input",a:{type:"number",value:[{t:2,r:"hue"}],min:"0",max:"360"},v:{change:"hslChange"}}]}," ",{t:7,e:"div",f:[{t:7,e:"label",f:["S:"]},{t:7,e:"input",a:{type:"number",value:[{t:2,r:"saturation"}],min:"0",max:"100"},v:{change:"hslChange"}}]}," ",{t:7,e:"div",f:[{t:7,e:"label",f:["L:"]},{t:7,e:"input",a:{type:"number",value:[{t:2,r:"lightness"}," "],min:"0",max:"100"},v:{change:"hslChange"}}]}],n:50,r:"showHslInputs"}," ",{t:4,f:[{t:7,e:"div",f:[{t:7,e:"label",f:["R:"]},{t:7,e:"input",a:{type:"number",value:[{t:2,r:"r"}],min:"0",max:"255"},v:{change:"rgbChange"}}]}," ",{t:7,e:"div",f:[{t:7,e:"label",f:["G:"]},{t:7,e:"input",a:{type:"number",value:[{t:2,r:"g"}],min:"0",max:"255"},v:{change:"rgbChange"}}]}," ",{t:7,e:"div",f:[{t:7,e:"label",f:["B:"]},{t:7,e:"input",a:{type:"number",value:[{t:2,r:"b"}],min:"0",max:"255"},v:{change:"rgbChange"}}]}],n:50,r:"showRgbInputs"}]}],n:50,r:"showInputs"}]}]}}])});